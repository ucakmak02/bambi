<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Bambi</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="icon" type="image/gif/png" href="../static/logo/bambi_b.png">
    <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,700" rel="stylesheet">

    <link rel="stylesheet" href="../static/css/open-iconic-bootstrap.min.css">
    <link rel="stylesheet" href="../static/css/animate.css">
    
    <link rel="stylesheet" href="../static/css/owl.carousel.min.css">
    <link rel="stylesheet" href="../static/css/owl.theme.default.min.css">
    <link rel="stylesheet" href="../static/css/magnific-popup.css">

    <link rel="stylesheet" href="../static/css/aos.css">

    <link rel="stylesheet" href="../static/css/ionicons.min.css">

    <link rel="stylesheet" href="../static/css/bootstrap-datepicker.css">
    <link rel="stylesheet" href="../static/css/jquery.timepicker.css">

    
    <link rel="stylesheet" href="../static/css/flaticon.css">
    <link rel="stylesheet" href="../static/css/icomoon.css">
    <link rel="stylesheet" href="../static/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  </head>
  <body style="background-color: whitesmoke;">
    <div class="page">  

      <nav class="navbar navbar-expand-sm navbar-dark bg-dark fixed-top">
        <a class="navbar-brand" href="/" style="font-size:1.1em; color:white">
          <img src="../static/logo/bambi_logo_light.png" style='width: 105px;' alt="">
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarText" aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarText">
          <ul class="navbar-nav mr-auto">
            <li class="nav-item active">
              <a class="nav-link" href="/" style="font-size:1em; color:white;"><span class="sr-only">(current)</span>Accueil</a>
            </li>
            <li class="nav-item active">
              <a class="nav-link" href="#contact" style="font-size:1em; color:white;">Contact</a>
            </li>

            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="text-decoration: underline;color: white;">
                Produits
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                <a class="nav-link" href="/produits/chambres" style="font-size:1em; color:black;margin-left: 20px;">Chambres</a>
                <a class="nav-link" href="/produits/salons" style="font-size:1em; color:black;margin-left: 20px;">Salons</a>
                <a class="nav-link" href="/produits/commode" style="font-size:1em; color:black;margin-left: 20px;">Commode</a>
                <a class="nav-link" href="/produits/linge" style="font-size:1em; color:black;margin-left: 20px;">Linge de Maison</a>
                <a class="nav-link" href="/produits/decoration" style="font-size:1em; color:black;margin-left: 20px;">Décoration</a>
                <a class="nav-link" href="/produits/salle-a-manger" style="font-size:1em; color:black;margin-left: 20px;">Salle à Manger</a>
                <div class="dropdown-divider"></div>
                <a class="nav-link" href="/" style="font-size:0.9em; color:black;margin-left: 20px;"><span class="sr-only">(current)</span>Accueil</a>
              </div>
            </li>
            {% if session.logged_in %}
            <li class="nav-item">
              <a class="nav-link" href="/urun_ekle" style="font-size:1em; color:white;text-decoration: underline;">
                  <i class="fas fa-sign-out-alt"></i> Urun Ekle
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/logout" style="font-size:1em; color:white;margin-left: 10px;text-decoration: underline;">
                  <i class="fas fa-sign-out-alt"></i> Cıkıs
              </a>
            </li>
            {% endif %}
          </ul>
          <span class="navbar-text">
            <ul class="navbar-nav mr-auto">
              <li class="nav-item active">
                <div class="btn-group" role="group" aria-label="Basic example" style="margin-top: 7px;">
                  <button  type="button" name='sm' class="btn btn-secondary imageSize" style="background-color:#343A40;border-radius: 10px;margin: 1px;">Petit</button>
                  <button  type="button" name='md' class="btn btn-secondary imageSize" style="background-color:#343A40;border-radius: 10px;margin: 1px;">Moyen</button>
                  <button  type="button" name='lg' class="btn btn-secondary imageSize" style="background-color:#343A40;border-radius: 10px;margin: 1px;">Grand</button>
                </div>
              </li>
              
              <li class="nav-item active">
                <div class="btn-group" role="group" aria-label="Basic example">
                  <a class="nav-link"  target="_blank" href="https://www.facebook.com/pages/category/Furniture/Bambi-Literie-Meuble-699120597206137/" >
                    <img src="../static/icons/facebook.png" style='width: 25px;height:25px;margin-left: 5px;' alt="">
                  </a>
                  <a class="nav-link" target="_blank" href="https://www.instagram.com/bambiliterie/" >
                    <img src="../static/icons/instagram.png" style='width: 27px;height:27px;margin-left: 5px;' alt="">
                  </a>
                  <a class="nav-link" target="_blank" href="tel:+33762586432" >
                    <img src="../static/icons/mobile.png" style='width: 27px;height:27px;margin-left: 5px;' alt="">
                  </a>
                  <a class="nav-link" href="https://goo.gl/maps/Z9SHekveQZ6Pqa33A" target="_blank">
                    <img src="../static/icons/location.jpg" style='width: 32px;height:27px;margin-left: 0px;' alt="">
                  </a>
                </div>              
              </li>
            </ul>
          </span>
        </div>
      </nav>

      <section class="home-slider owl-carousel js-fullheight" id ="start" style="margin-top:-160px;z-index: -1;position:relative">
        <div class="slider-item js-fullheight">
          <div class="overlay"></div>
          <div class="container">
            <div class="row slider-text align-items-center text-center justify-content-center" data-scrollax-parent="true">
              <div class="col-md-12 ftco-animate" data-scrollax=" properties: { translateY: '70%' }" >
                <h1 class="mb-3" data-scrollax="properties: {translateY: '30%', opacity: 1.6}" style="color: rgb(32, 32, 32);font-family:courier,arial,helvetica;">
                  {{nameTitle}}</h1> 
              </div>
            </div>
          </div>
        </div>

        <div class="slider-item js-fullheight">
          <div class="overlay"></div>
          <div class="container">
            <div class="row slider-text align-items-center text-center justify-content-center" data-scrollax-parent="true">
              <div class="col-md-12 ftco-animate" data-scrollax=" properties: { translateY: '70%' }" align='center'>
                <img src="../static/logo/bambi_logo_dark.png" alt="" style="width: 300px;height: 150px;">
              </div>
            </div>
          </div>
        </div>
      </section>

      <div class="row" align="center" style="justify-content: center;margin-top: -150px;"  >
        {% for product in all_products %} 
        
        <div class="column productContainer" id="productDiv{{product['id']}}">
          
            <img onclick="openModal(this)" class='resize_fit_center' image_path="../static/images/{{product['product_image']}}" src="../static/images/{{product['product_image']}}" style='object-fit: cover;'>
      
            <div class='textContainer'>
              <p style="text-align:left;;margin-left: 5px;">
                <b id ="productTitle{{product['id']}}" class="textStyle">{{product['product_name']}}</b>
                <span style="float:right;margin-right: 5px;">
                  <b id ="productPrice{{product['id']}}" class="textStyle">{{product['product_price']}}</b>
                </span>
              </p>
          
          {% if session.logged_in %}
          <div class="row" style="margin-top: 10px;">
            <div class="col-sm-6">
              <input class="inputChange" type="text" placeholder="Ürün İsmi" id="productNameText{{product['id']}}" value="{{product['product_name']}}" style="border-radius: 5px;height: 30px;width: 175px;">
            </div>
            <div class="col-sm-6">
              <input class="inputChange"  type="text" placeholder="Ürün Fiyatı" id="productPriceText{{product['id']}}" value="{{product['product_price']}}" style="border-radius: 5px;height: 30px;width: 175px;">
            </div>
        </div>
          <div class="row" style="margin-top: 10px;">
            <div class="col-sm-6">
              <buttons onclick="saveChanges(this)" class="btn btn-success" name="{{product['id']}}" type="button" style='border-radius: 5px;' >
                <i class="fa fa-save" aria-hidden="true"> Kaydet</i>
              </button>
            </div>
            <div class="col-sm-6">
              <button onclick="deleteProduct(this)" class="btn btn-danger" name="{{product['id']}}" image_path="{{product['product_image']}}" data-toggle="modal"  type="submit" style='border-radius: 5px;'>
                <i class="fa fa-trash" aria-hidden="true"> Ürünü Sil</i>
              </button>  
            </div>
          </div>
          {% endif %}
        </div>
        
          </div>
          
        {% endfor %}
      </div>

     <!-- Modal -->
     <div class="modal fade bd-example-modal-xl" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="myExtraLargeModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-xl">
        <div class="modal-content" >
          <img id='modalDivImage' src="" alt="" style="width: 200%;margin-left: -50%;overflow-x: auto;" >
        </div>
      </div>
    </div>
    


      <footer class=" ftco-section" id="contact" style="margin-top: -50px;">
        <div class="container">
          <div class="row mb-5 justify-content-center" >
            <div class="col-md-10 text-center" >
              <div class="ftco-footer-widget mb-5" >
                <a href="#contact"> <h3 class="bold-text" style="color: black;margin-left:10px ;font-family:courier,arial,helvetica;" >NOUS CONTACTER
                </h3></a>
                <br/>
                <ul class="ftco-footer-social list-unstyled">
                  <li class="ftco-animate">
                    <a class="nav-link"  target="_blank" href="https://www.facebook.com/pages/category/Furniture/Bambi-Literie-Meuble-699120597206137/" >
                      <img src="../static/icons/facebook.png" style='width: 40px;height:40px;' alt="">
                    </a>
                  </li>
                  <li class="ftco-animate" style="margin-left: 30px;">
                    <a class="nav-link" target="_blank" href="https://www.instagram.com/bambiliterie/" >
                      <img src="../static/icons/instagram.png" style='width: 45px;height:45px;' alt="">
                    </a>
                  </li>
                  <li class="ftco-animate" style="margin-left: 30px;">
                    <a class="nav-link" target="_blank" href="tel:+33762586432" >
                      <img src="../static/icons/mobile.png" style='width: 48px;height:48px;' alt="">
                    </a>
                  </li>
                </ul>
              </div>
              <div class="ftco-footer-widget">
                <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2888.6435833689525!2d3.8001462144950913!3d43.613962162986766!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x12b6ac4addc08ec7%3A0x46f0f37ddbc94fec!2s1207%20All%C3%A9e%20de%20l&#39;Europe%2C%2034990%20Juvignac!5e0!3m2!1sfr!2sfr!4v1603370988823!5m2!1sfr!2sfr" width="70%" height="400" frameborder="0" style="border:0;" allowfullscreen="" aria-hidden="false" tabindex="0"></iframe>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-12 text-center">
              <p>Copyright ©2020 FreeWings Inc.</p>
            </div>
          </div>
        </div>
      </footer>
      <div class="bottomNavbar" align='right'>
        <a  href="#top" class="active" style="color: white;font-weight: 600;margin-right: 20px;text-decoration: underline;">
          <img src="/static/icons/up-arrow.png" style="width: 40px;height: 40px;margin: 2px;" alt="">
        </a>
      </div>


    <script src="../static/js/jquery.min.js"></script>
    <script src="../static/js/jquery-migrate-3.0.1.min.js"></script>
    <script src="../static/js/popper.min.js"></script>
    <script src="../static/js/bootstrap.min.js"></script>
    <script src="../static/js/jquery.easing.1.3.js"></script>
    <script src="../static/js/jquery.waypoints.min.js"></script>
    <script src="../static/js/jquery.stellar.min.js"></script>
    <script src="../static/js/owl.carousel.min.js"></script>
    <script src="../static/js/jquery.magnific-popup.min.js"></script>
    <script src="../static/js/aos.js"></script>
    <script src="../static/js/jquery.animateNumber.min.js"></script>
    <script src="../static/js/scrollax.min.js"></script>
    <script src="../static/js/bootstrap-datepicker.js"></script>
    <script src="../static/js/jquery.timepicker.min.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBVWaKrjvy3MaE7SQ74_uJiULgl1JY0H2s&sensor=false"></script>
    <script src="../static/js/google-map.js"></script>
    <script src="../static/js/main.js"></script>

   <script>
     $( document ).ready(function() {
          if({{session.logged_in|default("")| tojson}}){
            $(".productContainer").css({"margin-top": "150px"});
          } 
      });
      function openModal(elem) {
        image_path = elem.getAttribute("image_path")
        $("#modalDivImage").attr("src",image_path);
        $('#exampleModal').modal('show');
      }
      
        
     $( ".imageSize" ).click(function() {
      let name =this.name
      if(name =='sm'){
        $(".productContainer").css({"width": "300px", "height": "200px"});
        $(".inputChange").css({"width": "125px", "height": "25px"});
        $(".textStyle").css({"fontSize": "15px"});
        
      }else if(name =='md'){
        $(".productContainer").css({"width": "400px", "height": "250px"});
        $(".inputChange").css({"width": "175px", "height": "30px"});
        $(".textStyle").css({"fontSize": "20px"});
      }else if(name =='lg'){
        $(".productContainer").css({"width": "530px", "height": "350px"});
        $(".inputChange").css({"width": "225px", "height": "35px"});
        $(".textStyle").css({"fontSize": "25px"});
      }
    });
  function saveChanges(elem) {
    id = elem.getAttribute("name")
    productNameText = $('#productNameText'+id).val()
    productPriceText = $('#productPriceText'+id).val()
      req = $.ajax({
        url: '/save_changes',
        type: 'POST',
        data: { id: id ,name:productNameText,price:productPriceText}

      });
      req.done(function () {
        var tr = $('#productDiv'+id)
        tr.fadeOut(700, function () {
          tr.fadeIn(700)
        })
        $( "#productTitle"+id ).text(productNameText)
        $( "#productPrice"+id ).text(productPriceText)
      })
  }

  function deleteProduct(elem) {
    id = elem.getAttribute("name")
    image_path = elem.getAttribute("image_path")
    
      req = $.ajax({
        url: '/delete_product',
        type: 'POST',
        data: { id: id,image_path:image_path}
      });
      req.done(function () {
        var tr = $('#productDiv'+id)
        tr.fadeOut(700, function () {
          
        })
      })
  }
   </script>
    <style>
        .navContainer{
          background-color: rgba(255, 255, 255, 0.07);
        }
        .productContainer {
          margin: 0 10px 50px 0;
          margin-left: 10px;
          width: 400px;
          height: 250px;
          text-align: center;
          background-color: white;
          box-shadow: 5px 5px 5px #aaaaaa;
      
      }.textContainer{
        height: 40px;
        margin-top: -40px;
        background: rgba(255,255,255, 0.7);
        position:relative;
        width:100%;
      }
      .resize_fit_center {
          max-width:97%;
          max-height:97%;
          vertical-align: middle;
          margin-top: 10px;
      }
      .bottomNavbar {
        overflow: hidden;
        position: fixed;
        bottom: 0;
        width: 100%;
      }
      b{
        color: rgb(61, 61, 61);
        font-weight: 600;
        font-family:courier,arial,helvetica;
      }
      </style>
    
  </body>
</html>